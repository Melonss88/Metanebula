import{N as h,P as j,r as o,j as s,Q as N}from"./index-jzItQsLe.js";import{u as g,s as u,D as v}from"./DUCK-B9i8lRH3.js";import"./pickAttrs-CWd3hxVA.js";const T="/Metanebula/assets/mint-img-CYwykcTh.jpg",b="0x937Cf819746221324b7FFd131b4920234B9EDe53",w=()=>{const{address:i}=h(),{open:d}=j(),{data:t,isPending:n,isSuccess:m,isError:e,failureReason:a,writeContract:c}=g(),r=()=>{if(!i){d();return}n&&u.error({placement:"top",message:"Please login!"});try{c({address:b,abi:v,functionName:"safeMint",args:[i,"https://harlequin-obliged-nightingale-746.mypinata.cloud/ipfs/QmP6J7Q6pAVosS72ZbrCuKmdSB38oF5iAY5XDAAtjEeJHD/configAll.json"],chain:void 0,account:i})}catch{u.error({placement:"top",message:"user rejected!"})}};return o.useEffect(()=>{m&&u.success({placement:"top",message:"mint success!"})},[m]),o.useEffect(()=>{e&&(console.log(e,"mintError"),u.error({placement:"top",message:"mint Error!"}))},[e]),o.useEffect(()=>{a&&console.log(a,"failureReason")},[a]),s.jsxs("button",{onClick:()=>{n||r()},children:[!n&&"Mint Now",n&&s.jsx(N,{className:"w-[200px] text-center",spinning:n,tip:""})]})};let p="NFTS MINT WILL START IN";const f=5e3,M=1,S=({waitTime:i,duration:d})=>{const[t,n]=o.useState({days:"00",hours:"00",minutes:"00",seconds:"00",phase:"waiting"});o.useState(1),o.useEffect(()=>{const e=new Date(new Date().getTime()+i*f),a=new Date(e.getTime()+d*f*f*20),c=setInterval(()=>{const r=new Date,l=e.getTime()-r.getTime(),x=a.getTime()-r.getTime();l>0?m(l,"waiting"):l<=0&&x>0?(p="NFTS MINT TIME REMAINING",m(x,"active")):(n({days:"00",hours:"00",minutes:"00",seconds:"00",phase:"finished"}),p="NFTS MINT TIME ENDED",clearInterval(c))},1e3);return()=>clearInterval(c)},[i,d]);function m(e,a){const c=Math.floor(e/864e5).toString().padStart(2,"0"),r=Math.floor(e/(1e3*60*60)%24).toString().padStart(2,"0"),l=Math.floor(e/1e3/60%60).toString().padStart(2,"0"),x=Math.floor(e/1e3%60).toString().padStart(2,"0");n({days:c,hours:r,minutes:l,seconds:x,phase:a})}return s.jsxs("div",{className:"text-center text-[#b2b2b2] mint-content",children:[s.jsx("div",{className:"text-[28px] text-nowrap font-[ftn55]",children:p}),s.jsx("div",{className:"countdown",children:s.jsxs("div",{className:`timer flex justify-end small:justify-center ${t.phase==="active"?"text-[#fff]":(t.phase==="waiting"," text-[#fff]")}`,children:[s.jsxs("p",{className:"unit",children:[s.jsxs("span",{className:"num",children:[t.days,":"]}),s.jsx("span",{className:"txt",children:"Days"})]}),s.jsxs("p",{className:"unit",children:[s.jsxs("span",{className:"num",children:[t.hours,":"]}),s.jsx("span",{className:"txt",children:"Hrs"})]}),s.jsxs("p",{className:"unit",children:[s.jsxs("span",{className:"num",children:[t.minutes,":"]}),s.jsx("span",{className:"txt",children:"Mins"})]}),s.jsxs("p",{className:"unit",children:[s.jsx("span",{className:"num",children:t.seconds}),s.jsx("span",{className:"txt",children:"Secs"})]})]})}),s.jsxs("div",{className:"small:flex small:items-center small:justify-center",children:[s.jsxs("div",{className:"list-info small:mr-[20px]",children:[s.jsx("div",{className:"txt",children:"Pre-Sale Price"}),s.jsx("div",{className:"num",children:"0.0001 ETH"})]}),s.jsxs("div",{className:"list-info",children:[s.jsx("div",{className:"txt",children:"Remaining"}),s.jsx("div",{className:"num",children:M})]})]}),s.jsxs("div",{className:"btn-box",children:[t.phase==="waiting"&&s.jsx("button",{className:"disabled",children:"Mint"}),t.phase==="active"&&s.jsx(w,{}),t.phase==="finished"&&s.jsx("button",{className:"disabled",children:"Mint End"})]})]})},I=()=>s.jsx("div",{className:"mint-container to-top relative",children:s.jsxs("div",{className:"flex big:justify-between small:flex-col w-default",children:[s.jsx("img",{src:T,className:"w-[695px] small:w-[370px] small:mt-[20px] small:mb-[16px] big:mr-[25px]",alt:"mint.webp"}),s.jsx(S,{waitTime:1,duration:1})]})});export{I as default};
