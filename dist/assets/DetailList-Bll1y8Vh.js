import{a as j}from"./axiosInstance-CrjvWV0k.js";import{j as e,r as n,L as w,N as E,s as S}from"./index-jzItQsLe.js";import{S as b}from"./StarRating-Ng_iSZwv.js";import{p as y,a as B}from"./index-D2_sBfiL.js";import{u as C,s as m,D as f}from"./DUCK-B9i8lRH3.js";const R=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 28 28",enableBackground:"new 0 0 28 28",xmlSpace:"preserve",className:"align-middle",children:e.jsx("image",{id:"image0",width:"28",height:"28",x:"0",y:"0",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAA CXBIWXMAAAsTAAALEwEAmpwYAAAGiElEQVRIx32Wa2xUxxXHfzN3r/flAHaFUUgrsE1TcJP2Q4sS cEgLTas2jz6ECZEghCDgQ9svKY2CQWpiYR5tJKiAhAgLtSVJgYbwaCtqm0epSSqZkqAEB2xwSmMw Xnsxtu/O7t336Qe/FnvNkc6XOTPzmztz/+ccxZBVVi5g95t7KC8vAxQ5poAFwNMi8ohlWQ9atl2U jMdRSvUBnwMfACeAc4AAGBNh3Uu/4sCBdxhnL7ywEse4DERdHDPi2jHuKse41xzjyqDHJRKNS0ZE kmmRficmozFXHOO2OcZdObQWx7jUbNp0N2z58hVEorFcEI5xyxzjns/drC8SExGRtmufy+YtWyUr IvFkWgYi46DiGLfZMe5XHeMSicZYX71xFJgH9l3HuOGxm0TdpIiIHDl6TEpKSmT/O++KiOSDDXvE Me4PhqHLlq0YfJ+BaAwlI2/2Q+A4UJB7CyIwqdDH5darHDzwZxoa6gmFQly50kbA72Ug4qK1Io8l ge8DTaKEh2bPRufAvga8Nx4mBANeEsk0x48dxbIsZs4speOLL9i8ZQsABbaHCawAOAzMVKI49N5h 9FDAAt4GCseu0FpjacXpM//k5s2bFBUVkU6nuX/6/ezcuYPzFy7i99lkszIRdCpwENBff/ihEeBK YO7YmRkRCgNeOm51c/pUI8XFxWSzWUSEQCAIArWbagAI+L2ITAh9BFgBoId0tj7fLK9tA9BYf4JU Konf7x89TCZDeXk5jQ31vHvgELZHo7XmHlatRCkNPA7MGhsVAb/Xw4fNF7j40UdMnVpCJpPBsixs 20ZE0FpTMm0aGzesp+f2HQoD3ntd7YNApQaeHA8TCoM+YvEkZ042EAgG8Xg8FBUV4fF4iEajFHi9 g8CSEkJdXdS89urgrRTY9/rKpzQwf+yoZVloBScbG+ntvc2MGTOwLIv29nbq6//BpU8/wTgOyUQC pRRzKirYt6+OM2eb8Hk9TPyUPKoc44aAacMj2aww+T4/Xd23qdv7Flprbty4QVtbK6FQCNu2MZEI oVAIv99PMBhkSlER4XCYiooKGhoaUUpj3DiWGqfNLuUYN0GO9nzeAoyJUFtbS2vrFWKxGJ2dnViW RTAYxOfzEerqoqenB4/HQyaTQWvNpEmT6OjoYNXqNeyr20s8mSaVSo8FuuMUqwDXjdPT0019fT1T pkxh1qxZiMiID5vWGo/HQyqVoqOjA4CA30cmC1rlzTxooO+uI6RSBAsLeXv/fpqampgzp4KWlhYc x8GyrNGDKYXWmnA4TH9/P4u+9wSdt0Ls2rkTx4mQSKbz8fo1cC13xLYsspkUx//2d8pKy/ngXBPb t/+eTCbL5cufkUgksG0bx3EIh8OUlpVx9uy/OH3qJGfOnKJu3x/wee2JcmsbjnF/l5vlB4bKUMvl Vvn5L34p7x85KiIivXf6ZH31BiktLxdAfD6fbN+xQ0RE7vT1y8KFC+Vb354r3d3dks7IRGVrK45x vzM20G9cERG58PEnsriqSqo3bJRPL7WIiEjz+Quybt3LkkpnRESkdvMWAcQuKJDunl4RyVuYh/0x 5RhXAVfJyTYi4PFYBHw2h48c46/HjzJ58hRmlpayds1a7isMcPjw+7xWU8NnLZdAQdO5f7Ogch6R aHwiDV4FZmsGe5Btd/2pCtLpNJms8ONnnubhb3wTy7IIdd1iz549rF6zliXPLiEScfD6vNRu3saC ynm4ifS9Evg2QIaz7R+BC3dDFSYap8D28NzS57Asjc/nx7I016//l7KyMvr67rBo0RNsrH6FTBaS yRQqvxzOA38SxUh5ygDPA+YuzWhFJJrgK1+ezuKqpfT23kYpTXHxl+jt7SUYCLJr9xsARGITVv0I g6Up29nZiR4t+LQCSxlsC0ZMJEs8mWb+o3OZN/8xbod7SKWSDPT3s/vNtygvnYGJJfKlMYb2Wgy0 KSUsW/osekwPegL4ae6XKqVIJFIALKmqYvoDD9Dc3Mzy51ew+Gc/IZnKkM1m88EM8AxwUilh29bf cvHix1h+r5f5lZW5E9uBo8A8YPow1E2mKAx4KfAF+N/16+zc9QbBgB8TS+S7yv8APwLOKyUcOvgX Xv71S6PRV6o3jG0Vhxvh1Y5x24d1ZGIJcUxcHBMXEZGByDidtTvGfTG3Ed5bty//P7vyxVX09jkT gR93jPv6QCR2LhZPdWVFko5xE45xQ45xP3SM+/rQHJW79jev1ozj/B/uDkiLzPUo5gAAACV0RVh0 ZGF0ZTpjcmVhdGUAMjAyNC0wNy0wOFQwNTowNTo0MyswMDowMCe0jcYAAAAldEVYdGRhdGU6bW9k aWZ5ADIwMjQtMDctMDhUMDU6MDU6NDMrMDA6MDBW6TV6AAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAy MDI0LTA3LTA4VDA1OjA1OjQzKzAwOjAwAfwUpQAAAABJRU5ErkJggg=="})}),z=()=>{const[r,s]=n.useState([]),[a,c]=n.useState(!0),[o,t]=n.useState(!1);return n.useEffect(()=>{(async()=>{try{const i=await j.get("/transfer/records");s(i.data)}catch(i){console.error("Error fetching transfer records:",i),t(!0)}finally{c(!1)}})()},[]),{records:r,isLoading:a,isError:o}};function G(r){if(!r)return" ";const s=new Date(r),a=s.getFullYear(),c=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0"),t=String(s.getHours()).padStart(2,"0"),l=String(s.getMinutes()).padStart(2,"0"),i=String(s.getSeconds()).padStart(2,"0");return`${a}.${c}.${o} ${t}:${l}:${i}`}const D=r=>{const[s,a]=n.useState(null),[c,o]=n.useState(!0),[t,l]=n.useState(!1);return n.useEffect(()=>{(async()=>{try{const x=await j.get(`/nft/details/${r}`);a(x.data)}catch(x){console.error("Error fetching mint records:",x),l(!0)}finally{o(!1)}})()},[r]),{records:s,isLoading:c,isError:t}},T=({linkTo:r})=>e.jsxs(w,{className:"block cursor-pointer text-[#4ab3fd] font-[ftnB] text-[24px]",to:r,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"18",viewBox:"0 0 16 16",className:"align-baseline mr-[10px]",children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"})}),"Back"]}),M=()=>e.jsx("svg",{viewBox:"0 0 14 14",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M13 1 1 13M1 1l12 12",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round"})}),u="0x937Cf819746221324b7FFd131b4920234B9EDe53",U=({onClose:r,data:s,type:a})=>{const[c,o]=n.useState(""),[t,l]=n.useState(""),{address:i}=E(),{data:x,isSuccess:h,isError:A,failureReason:d,writeContract:g}=C(),v=()=>{if(!c)return l("The address can not be empty");try{g({address:u,abi:f,functionName:"nftTransfer",args:[i,c,s==null?void 0:s.tokenId],chain:void 0,account:i})}catch{m.error({placement:"top",message:"user rejected!"})}},N=()=>{try{g({address:u,abi:f,functionName:"buy",args:[s==null?void 0:s.tokenId],value:BigInt(y(String(s==null?void 0:s.price)).toString()),chain:void 0,account:i})}catch(p){console.log("error",p),m.error({placement:"top",message:"user rejected!"})}};return n.useEffect(()=>{h&&(m.success({placement:"top",message:"Success!"}),onclose)},[h]),n.useEffect(()=>{A&&(console.log(A,"Error"),m.error({placement:"top",message:"Error!"}))},[A]),n.useEffect(()=>{d&&console.log(d,"failureReason")},[d]),e.jsx("div",{className:"pop-container",children:e.jsxs("div",{className:"pop-inner px-[10rem] small:px-[32px]",children:[e.jsx("span",{onClick:r,className:"pop-close",children:e.jsx(M,{})}),e.jsxs("p",{className:"pop-title",children:[s==null?void 0:s.name," #",s==null?void 0:s.tokenId]}),e.jsx("div",{className:"pop-avatar",children:e.jsx("span",{className:"pop-avatar-img",children:e.jsx("img",{src:s==null?void 0:s.imageURL,alt:"avatar.png"})})}),e.jsx("p",{className:"text-red-500",children:t}),a=="nft"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"pop-price mb-[6px]",children:s==null?void 0:s.price}),e.jsx("button",{className:"pop-btn-confirm btn-theme-blue",onClick:N,children:"Confirm Buy"}),e.jsx("p",{className:"text-[#8c8c8c] text-[14px]",children:"After the transaction is successful, a 4.5% handing fee will be charged"})]}),a=="assets"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"pop-input mb-[15px]",type:"text",placeholder:"Wallet address",value:c,onChange:p=>{o(p.target.value)}}),e.jsx("button",{className:"pop-btn-confirm btn-theme-blue",onClick:v,children:"Confirm"}),e.jsx("p",{className:"text-[#8c8c8c] text-[14px]",children:"Please be aware that assets transferred to the wrong address can't be recovered"})]})]})})},Q=({back:r})=>{const[s]=S(),a=s.get("id"),[c,o]=n.useState(!1),{records:t,isLoading:l,isError:i}=a?D(a):{records:null,isLoading:!1,isError:!1};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"cont-left",children:e.jsx("span",{className:"avatar-box",children:e.jsx("img",{src:t==null?void 0:t.imageURL,alt:"avatar.png"})})}),e.jsxs("div",{className:"cont-right",children:[e.jsx(T,{linkTo:"/"+r}),e.jsxs("div",{className:"text-[4rem] font-[ftnB] mb-[25px] capitalize",children:[t==null?void 0:t.name," #",a]}),e.jsxs("ul",{className:"infos",children:[e.jsxs("li",{className:"item",children:[e.jsx("div",{className:"label",children:"Gender"}),e.jsx("div",{className:"num",children:t==null?void 0:t.gender})]}),e.jsxs("li",{className:"item",children:[e.jsx("div",{className:"label",children:"Color"}),e.jsx("div",{className:"num",children:t==null?void 0:t.color})]}),e.jsxs("li",{className:"item",children:[e.jsx("div",{className:"label",children:"Accessories"}),e.jsx("div",{className:"num",children:t==null?void 0:t.accessories})]}),e.jsxs("li",{className:"item",children:[e.jsx("div",{className:"label",children:"Rarity"}),e.jsx("div",{className:"num text-[#5e5e5e] text-[16px] pt-[5px]",children:e.jsx(b,{rarity:t==null?void 0:t.rarity})})]}),e.jsxs("li",{className:"item",children:[e.jsx("div",{className:"label",children:"Owner"}),e.jsx("div",{className:"num",children:B(t==null?void 0:t.to)})]})]}),e.jsxs("div",{className:"btn-click flex mt-[7rem] font-[ftnB]",children:[e.jsxs("div",{className:"text-[32px] flex items-center",children:[e.jsx(R,{}),e.jsx("span",{className:"ml-[14px]",children:t==null?void 0:t.price})]}),e.jsxs("button",{className:"btn-theme-blue ml-[50px] text-[20px] h-[4rem] min-w-[115px]",onClick:()=>o(!0),children:[r=="nft"&&"Buy",r=="assets"&&"Transfer"]})]})]}),c&&e.jsx(U,{onClose:()=>o(!1),data:t,type:r})]})};export{Q as D,R as E,G as f,z as u};
